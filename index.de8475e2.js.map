{"mappings":"AAAO,MAGMA,EAAyB,CACpCC,IAHqB,qCAIrBC,SAAU,KACVC,WAAY,QACZC,YAAa,aACbC,WAAY,QCNCC,eAAAC,GAA2BC,EAAEA,EAAI,GAAEC,KAAEA,EAAO,MACzD,IACE,MAAMC,EAAc,IAAIC,gBAAgB,IACnCX,E,KACHS,E,EACAD,IAGII,QAAiBC,MAAM,2BAAeH,KAC5C,IAAKE,EAASE,GACZ,OAAwB,MAApBF,EAASG,OACJ,GAEF,CAAEC,MAAOJ,EAASG,QAG3B,MAAQE,KAAMC,SAAiBN,EAASO,OAExC,OAAOD,C,CACP,MAAOE,GACP,MAAO,CAAEJ,MAAOI,EAAEC,W,EC4Bff,eAAegB,GAAWd,EAAEA,EAACC,KAAEA,IACpC,MAAMS,QAAeX,EAAY,C,EAAEC,E,KAAGC,IAClCS,EAAOF,MACTO,MAAML,EAAOF,OAlDjB,UAAoBE,OAAEA,EAAMT,KAAEA,IAC5B,MAAMe,EAAiBC,SAASC,cAAc,YACjC,MAATjB,IACFe,EAAeG,UAAY,IAG7B,MAAMC,EAAUV,EAAOW,KAAIC,IACzB,MAAMC,EAAYN,SAASO,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExB,MAAMC,EAAMV,SAASO,cAAc,OACnCG,EAAIF,UAAUC,IAAI,SAClBC,EAAIC,IAAMN,EAAMO,aAChBF,EAAIG,IAAMR,EAAMS,KAChBJ,EAAIK,aAAa,UAAW,QAC5BT,EAAUU,YAAYN,GAEtB,MAAMO,EAAajB,SAASO,cAAc,OAC1CU,EAAWT,UAAUC,IAAI,QACzBH,EAAUU,YAAYC,GAEtB,MAAMC,EAAQlB,SAASO,cAAc,KACrCW,EAAMV,UAAUC,IAAI,aACpBS,EAAMhB,UAAY,kBAAkBG,EAAMa,YAC1CD,EAAWD,YAAYE,GAEvB,MAAMC,EAAQnB,SAASO,cAAc,KACrCY,EAAMX,UAAUC,IAAI,aACpBU,EAAMjB,UAAY,kBAAkBG,EAAMc,YAC1CF,EAAWD,YAAYG,GAEvB,MAAMC,EAAWpB,SAASO,cAAc,KACxCa,EAASZ,UAAUC,IAAI,aACvBW,EAASlB,UAAY,qBAAqBG,EAAMe,eAChDH,EAAWD,YAAYI,GAEvB,MAAMC,EAAYrB,SAASO,cAAc,KAKzC,OAJAc,EAAUb,UAAUC,IAAI,aACxBY,EAAUnB,UAAY,sBAAsBG,EAAMgB,gBAClDJ,EAAWD,YAAYK,GAEhBf,CAAS,IAGlBP,EAAeuB,UAAUnB,E,CAiBzBoB,CAAW,C,OAAE9B,E,KAAQT,G,CC9DvB,MAAMwC,EAAaxB,SAASC,cAAc,qBAE1CuB,EAAWC,iBAAiB,UCFrB5C,eAA+Bc,GACpCA,EAAE+B,iBAEF/B,EAAEgC,OAAO3C,KAAK4C,MAAQ,IACtB,MAAM7C,EAAIY,EAAEgC,OAAO5C,EAAE6C,YAEf/B,EAAW,C,EAAEd,EAAGC,KAAM,K,IDH9BwC,EAAWK,cAAc,IAAIC,MAAM,WAEnCC,OAAON,iBAAiB,UCIjB5C,iBACL,MAAMmD,UAAEA,EAASC,aAAEA,EAAYC,aAAEA,GAAiBlC,SAASmC,gBAC3D,GAAIH,EAAYE,GAAgBD,EAAc,CAC5C,MAAMG,EAAapC,SAASC,cAAc,qBACpCjB,EAAOqD,SAASD,EAAWpD,KAAK4C,OACtCQ,EAAWpD,KAAK4C,MAAQ5C,EAAO,QACzBa,EAAW,CAAEd,EAAGqD,EAAWrD,EAAE6C,MAAO5C,KAAMoD,EAAWpD,KAAK4C,O","sources":["src/scripts/config.js","src/scripts/pixabay.js","src/scripts/ui.js","src/scripts/main.js","src/scripts/handlers.js"],"sourcesContent":["export const API_PATH = 'https://pixabay.com/api';\nexport const API_KEY = '36836755-9f43607b903fa703cdff42e50';\n\nexport const DEFAULT_PIXABAY_PARAMS = {\n  key: API_KEY,\n  per_page: '20',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n","import { API_PATH, DEFAULT_PIXABAY_PARAMS } from './config.js';\n\nexport default async function pingPixabay({ q = '', page = '1' }) {\n  try {\n    const querystring = new URLSearchParams({\n      ...DEFAULT_PIXABAY_PARAMS,\n      page,\n      q,\n    });\n\n    const response = await fetch(`${API_PATH}?${querystring}`);\n    if (!response.ok) {\n      if (response.status === 400) {\n        return [];\n      }\n      return { error: response.status };\n    }\n\n    const { hits: photos } = await response.json();\n\n    return photos;\n  } catch (e) {\n    return { error: e.toString() };\n  }\n}\n","import pingPixabay from './pixabay.js';\n//import Notiflix from 'notiflix';\n\nfunction drawPhotos({ photos, page }) {\n  const photoContainer = document.querySelector('.gallery');\n  if (page === '1') {\n    photoContainer.innerHTML = '';\n  }\n\n  const gallery = photos.map(photo => {\n    const container = document.createElement('div');\n    container.classList.add('photo-card');\n\n    const img = document.createElement('img');\n    img.classList.add('photo');\n    img.src = photo.webformatURL;\n    img.alt = photo.tags;\n    img.setAttribute('loading', 'lazy');\n    container.appendChild(img);\n\n    const figCaption = document.createElement('div');\n    figCaption.classList.add('info');\n    container.appendChild(figCaption);\n\n    const likes = document.createElement('p');\n    likes.classList.add('info-item');\n    likes.innerHTML = `<b>Likes</b><p>${photo.likes}</p>`;\n    figCaption.appendChild(likes);\n\n    const views = document.createElement('p');\n    views.classList.add('info-item');\n    views.innerHTML = `<b>Views</b><p>${photo.views}</p>`;\n    figCaption.appendChild(views);\n\n    const comments = document.createElement('p');\n    comments.classList.add('info-item');\n    comments.innerHTML = `<b>Comments</b><p>${photo.comments}</p>`;\n    figCaption.appendChild(comments);\n\n    const downloads = document.createElement('p');\n    downloads.classList.add('info-item');\n    downloads.innerHTML = `<b>Downloads</b><p>${photo.downloads}</p>`;\n    figCaption.appendChild(downloads);\n\n    return container;\n  });\n\n  photoContainer.append(...gallery);\n}\n\nexport async function loadPhotos({ q, page }) {\n  const photos = await pingPixabay({ q, page });\n  if (photos.error) {\n    alert(photos.error);\n    return;\n  }\n\n  // if (photos.length === 0) {\n  //   Notiflix.Notify.failure(\n  //     'Sorry, there are no images matching your search query. Please try again.'\n  //   );\n  //   return;\n  // }\n\n  drawPhotos({ photos, page });\n  return;\n}\n","import { searchForPhotos, scrollHandler } from './handlers.js';\n\nconst searchForm = document.querySelector('#searchPhotosForm');\n\nsearchForm.addEventListener('submit', searchForPhotos);\nsearchForm.dispatchEvent(new Event('submit'));\n\nwindow.addEventListener('scroll', scrollHandler);\n","import { loadPhotos } from './ui.js';\n\nexport async function searchForPhotos(e) {\n  e.preventDefault();\n\n  e.target.page.value = '1';\n  const q = e.target.q.value;\n\n  await loadPhotos({ q, page: '1' });\n}\n\nexport async function scrollHandler() {\n  const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n  if (scrollTop + clientHeight >= scrollHeight) {\n    const searchForm = document.querySelector('#searchPhotosForm');\n    const page = parseInt(searchForm.page.value);\n    searchForm.page.value = page + 1;\n    await loadPhotos({ q: searchForm.q.value, page: searchForm.page.value });\n  }\n}\n"],"names":["$d2aef980e41d430d$export$e5af7a009e6ed2bd","key","per_page","image_type","orientation","safesearch","async","$1bc7e69042d4f9f8$export$2e2bcd8739ae039","q","page","querystring","URLSearchParams","response","fetch","ok","status","error","hits","photos","json","e","toString","$f5109b0431ee0ed3$export$345071c5d7c214f4","alert","photoContainer","document","querySelector","innerHTML","gallery","map","photo","container","createElement","classList","add","img","src","webformatURL","alt","tags","setAttribute","appendChild","figCaption","likes","views","comments","downloads","append","$f5109b0431ee0ed3$var$drawPhotos","$ac43a74d429af77f$var$searchForm","addEventListener","preventDefault","target","value","dispatchEvent","Event","window","scrollTop","scrollHeight","clientHeight","documentElement","searchForm","parseInt"],"version":3,"file":"index.de8475e2.js.map"}